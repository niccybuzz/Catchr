<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include (`partials/header.ejs`) %>
    <title>Liked Collections</title>
  </head>
  <body class="box-border bg-canvas h-screen flex flex-col font-kanit">
    <%- include (`partials/nav.ejs`) %>

    <!-- Full screen size flexbox -->
    <div
      class="flex items-start pt-6 md:pt-0 md:items-center justify-center flex-1"
    >
      <!-- My account box -->
      <div
        class="flex flex-col justify-center items-center bg-container p-6 rounded shadow-md h-fit w-10/12 md:w-1/2 xl:w-1/3 ws:w-1/5 ws:m-20 text-text"
      >
        <!-- Header -->
        <div class="flex w-full items-center">
          <a href="/admin" class="justify-self-start w-1/3 m-2">
            <button class="bg-button px-2 my-1 rounded-lg text-lg text-container">
              Back
            </button>
          </a>
          <h1 class="text-3xl w-1/3 text-text text-center font-bold m-2 justify-self-center">All Users</h1>
          <h1 class="w-1/3"></h1>
        </div>
        

        <!-- Line for each collection -->
        <% users.forEach((user) => { %>
        <div 
          class="border-2 border-gray-600 flex justify-between items-center w-full border-opacity-50 rounded-lg p-2 md:p-4 lg:text-xl mx-2 my-1"
        >
          <a href="/collections/<%=user.user_id%>">
            <p class="text-sm md:text-base"><%= user.username%></p>
          </a>
          <a href="" class="deleteAccount" account="<%=user.user_id%>"> 
            <button class="px-2 py-1 bg-red-500 rounded-lg text-xs md:text-base text-canvas">
              Delete Account
            </button>
          </a>
        </div>
        <% }) %> 
      </div>
    </div>

    <div
    id="popup"
    class="fixed hidden text-canvas max-w-72 text-center z-20 top-1/4 md:top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-container p-6 flex-col justify-center items-center shadow-lg rounded-lg"
  >
    <p id="popupMessage" class="text-lg mb-4"></p>
    <button
      type="button"
      id="closePopup"
      class="bg-canvas text-container font-bold py-2 px-4 rounded"
    >
      Close
    </button>
  </div>
  <script src="/functions/deleteAccountAdmin.js"></script>
    <%- include (`partials/footer.ejs`) %>
  </body>
  <!-- Scripts etc -->
  <%- include (`partials/tailwindConfig.ejs`) %>
</html>
