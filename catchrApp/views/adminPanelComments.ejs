<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include (`partials/header.ejs`) %>
    <title>Liked Collections</title>
  </head>
  <body class="box-border bg-canvas h-screen flex flex-col font-kanit">
    <%- include (`partials/nav.ejs`) %>

    <!-- Full screen size flexbox -->
    <div
      class="flex items-start pt-6 md:pt-0 md:items-center justify-center flex-1"
    >
      <!-- All comments box -->
      <div
        class="flex flex-col justify-center items-center bg-container p-2 rounded shadow-md h-fit w-full md:w-3/4 xl:w-1/2 ws:w-1/2 text-text"
      >
        <!-- Header and back button -->
        <div class="flex w-full items-center">
          <a href="/admin" class="justify-self-start w-1/3 m-4">
            <button
              class="bg-button px-2 my-1 rounded-lg text-lg text-container"
            >
              Back
            </button>
          </a>
          <h1
            class="text-3xl w-1/3 text-text text-center font-bold m-2 justify-self-center"
          >
            All Comments
          </h1>
          <h1 class="w-1/3"></h1>
        </div>

        <!-- Line for each collection -->
        <% comments.forEach((comment) => { %>
        <div
          class="border-2 border-gray-600 flex flex-col justify-between w-full border-opacity-50 rounded-lg p-2 md:p-4 text-sm lg:text-xl my-1"
        >
          <!-- Author -->
          <a
            href="/collections/<%=comment.User.user_id%>"
            class="text-sm md:text-base lg:text-lg text-button"
          >
            <div class="flex text-canvas">
              Author:
              <div class="text-button underline">
                <%= comment.User.username%>
              </div>
            </div>
          </a>
          <!-- Collection -->
          <a
            href="/collections/<%=comment.Collection.user_id%>"
            class="text-sm md:text-base lg:text-lg text-button"
          >
            <div class="flex text-canvas">
              Collection:
              <p class="text-button underline">
                <%= comment.Collection.User.username%>'s collection
              </p>
            </div>
          </a>

          <div class="flex justify-between text-xs md:text-base lg:text-lg">
            <!-- Comment Body -->
            <p>Comment: <%= comment.comment_body%></p>

            <!-- Delete button -->
            <a href="/admin/comments/delete/<%=comment.comment_id%>">
              <button
                class="px-2 py-1 bg-red-500 rounded-lg text-xs md:text-base lg:text-lg text-container w-20"
              >
                Delete
              </button>
            </a>
          </div>
        </div>
        <% }) %>
      </div>
    </div>

    <%- include (`partials/footer.ejs`) %>
  </body>
  <!-- Scripts etc -->
  <%- include (`partials/tailwindConfig.ejs`) %>
</html>
