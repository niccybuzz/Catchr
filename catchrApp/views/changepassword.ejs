<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include (`partials/header.ejs`) %>
    <title>Login</title>
  </head>
  <body
    class="box-border bg-canvas h-screen flex flex-col font-roboto"
  >
    <%- include (`partials/nav.ejs`) %>

    <!-- Full screen size flexbox -->
    <div
      class="flex items-start pt-6 md:pt-0 md:items-center justify-center flex-1 overflow-y-auto"
    >
      <!-- Login Box -->
      <div
        class="flex flex-col justify-center items-center border-4 bg-container border-red-900 border-button p-8 rounded shadow-md h-fit w-10/12 md:w-1/2 xl:w-1/3 ws:w-1/6 ws:m-20"
      >
        <% if (!updated) {%>

        <!-- Header -->
        <h1 class="text-3xl text-white text-center font-bold m-4">
          Change Your Password
        </h1>

        <form
          method="POST"
          action="/myaccount/changepassword"
          class="flex flex-col justify-evenly items-center"
        >
          <input
            type="password"
            name="oldpassword"
            placeholder="Old Password"
            class="w-full m-4 rounded-md"
          />
          <input
            type="password"
            name="newpassword"
            placeholder="New Password"
            class="w-full m-4 rounded-md"
          />
          <p class="text-white text-xs">
            Please enter your password to confirm your identity.
          </p>
          <input
          type="password"
          name="newpasswordConfirm"
          placeholder="Confirm New Password"
          class="w-full mb-4 wt-2 rounded-md" 
          required
        />
        <% if (message) { %>
          <p class="text-white"><%=message %></p>
        <% } %>
          <button
            type="submit"
            class="bg-button text-container w-full hover:bg-container hover:text-text transition-colors duration-300 rounded-lg py-2 px-4 my-2 font-bold"
          >
            Update
          </button>
        </form>

        <%} else { %>
        <div class="flex flex-col text-container justify-evenly items-center">
          <H1 class="text-3xl my-8 text-center text-text font-bold"> Password Updated Successfully! </H1>

          <div
            class="text-sm md:text-lg lg:text-xl text-center w-full m-2 flex flex-col md:flex-row justify-between md:justify-evenly"
          >
            <a href="/" class="">
              <button
                class="bg-button w-full hover:bg-black hover:text-text transition-colors duration-500 rounded-lg py-2 px-4 my-2 font-bold min-w-32"
              >
                Home
              </button>
            </a>
            <a href="/myaccount" class="">
              <button
                class="bg-button w-full hover:bg-black hover:text-text transition-colors duration-500 rounded-lg py-2 my-2 px-4 font-bold"
              >
                My Account
              </button>
            </a>
          </div>
        </div>

        <% } %>
      </div>
    </div>
    <%- include (`partials/footer.ejs`) %>
  </body>
  <!-- Scripts etc -->
  <%- include (`partials/tailwindConfig.ejs`) %>
</html>
